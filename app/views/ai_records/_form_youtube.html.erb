<%= form_with model: @ai_record,
              url: ai_records_path,
              data: { controller: "ai-record", action: "submit->ai-record#submit" },
              html: { class: "form-horizontal", id: "ai-record-youtube-form" } do |f| %>

  <%= f.hidden_field :source_type, value: "text" %>
  <%= f.hidden_field :ai_action, value: "youtube-transcription" %>
  <%= f.hidden_field :ai_model, value: "gemini-2.5-pro" %>

  <div class="form-group row mb-3">
    <%= f.label :content, "YouTube URL", class: "form-label col-form-label col-md-3" %>
    <div class="col-md-9">
      <%= f.text_field :content,
                       placeholder: "https://youtube.com/watch?v=...",
                       class: "form-control",
                       data: { ai_record_target: "youtubeLink" } %>
      <span class="invalid-feedback"></span>
      <small class="form-text text-muted">
        Paste a valid YouTube link (e.g. https://youtube.com/watch?v=abc123). The AI will extract and transcribe the video content automatically.
      </small>
    </div>
  </div>

  <div class="text-end">
    <%= f.submit "Analyze Video", class: "btn btn-primary", data: { ai_record_target: "submitButton" } %>
  </div>
<% end %>
