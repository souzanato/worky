<!DOCTYPE html>
<html>
  <head>
    <title><%= meta_tags[:title] %></title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= yield :head %>

    <%# Favicons %>
    <%# Apple touch icons %>
    <% [57,60,72,76,114,120,144,152,180].each do |s| %>
      <%= favicon_link_tag "apple-icon-#{s}x#{s}.png",
            rel: "apple-touch-icon",
            sizes: "#{s}x#{s}" %>
    <% end %>

    <%# PNG favicons %>
    <%= favicon_link_tag "android-icon-192x192.png", rel: "icon", type: "image/png", sizes: "192x192" %>
    <%= favicon_link_tag "favicon-32x32.png",        rel: "icon", type: "image/png", sizes: "32x32"  %>
    <%= favicon_link_tag "favicon-96x96.png",        rel: "icon", type: "image/png", sizes: "96x96"  %>
    <%= favicon_link_tag "favicon-16x16.png",        rel: "icon", type: "image/png", sizes: "16x16"  %>

    <%# Manifest PWA %>
    <%#= tag.link rel: "manifest", href: asset_path("manifest.json") %>

    <%# Microsoft tiles / theme color %>
    <%= tag.meta name: "msapplication-TileColor", content: "#ffffff" %>
    <%= tag.meta name: "msapplication-TileImage", content: asset_path("ms-icon-144x144.png") %>
    <%= tag.meta name: "theme-color", content: "#ffffff" %>

    <%# Includes all stylesheet files in app/assets/stylesheets %>
    <%= stylesheet_link_tag :app, "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", type: "module" %>
  </head>

  <body>
    <!-- BEGIN #loader -->
    <div id="loader" class="app-loader">
      <span class="spinner"></span>
    </div>
    <!-- END #loader -->

    <!-- BEGIN #app -->
    <div id="app" class="app">
      <!-- BEGIN login -->
      <div class="login login-with-news-feed">
        <!-- BEGIN news-feed -->
        <div class="news-feed">
          <%= tag.div class: "news-image",
                      style: "background-image: url(#{image_path('baia.png')})" %>
          <div class="news-caption">
            <h4 class="caption-title">
              <b><%= t('general.app.short') %></b> <%= t('general.app.name') %>
            </h4>
            <p><%= t('texts.registration.caption_html') %></p>
          </div>
        </div>
        <!-- END news-feed -->
        
        <!-- BEGIN login-container -->
        <div class="login-container">
          <!-- BEGIN login-header -->
          <div class="login-header mb-30px">
            <div class="brand">
              <div class="d-flex align-items-center">
                <%= image_tag "baia-icon.png", style: "height: 1.1em" %>
                <b class="me-1"><%= t('general.app.name') %></b> <%= t('general.app.short') %>
              </div>
              <small><%= t('texts.registration.caption_html') %></small>
            </div>
            <div class="icon">
              <%= content_for?(:auth_icon) ? yield(:auth_icon) : content_tag(:i, nil, class: "fa fa-sign-in-alt") %>
            </div>
          </div>
          <!-- END login-header -->
          
          <!-- BEGIN login-content -->
          <div class="login-content">
            <%= yield %>

            <!-- Links -->
            <div class="mb-40px pb-40px text-dark devise-links">
              <%= render "devise/shared/links" %>
            </div>

            <hr class="bg-gray-600 opacity-2" />
            <div class="text-gray-600 text-center mb-0">
              &copy; <%= t('general.app.name') %> <%= Time.current.year %>
            </div>
          </div>
          <!-- END login-content -->
        </div>
        <!-- END login-container -->
      </div>
      <!-- END login -->
    </div>
    <!-- END #app -->
    
    <%= render "shared/flash" %>
  </body>

</html>
