<div class="card mb-3 step" data-workflow-builder-target="step">
  <div class="card-body p-3">
    <div class="d-flex align-items-center mb-2">
      <strong class="me-2"><%= t(".step", default: "Step") %></strong>
      <div class="ms-auto d-flex gap-1">
        <button type="button" class="btn btn-sm btn-outline-secondary" data-action="workflow-builder#moveStepUp">↑</button>
        <button type="button" class="btn btn-sm btn-outline-secondary" data-action="workflow-builder#moveStepDown">↓</button>
        <button type="button" class="btn btn-sm btn-outline-danger" data-action="workflow-builder#removeStep"><%= t(".remove", default: "Remove") %></button>
      </div>
    </div>

    <div class="row g-2">
      <div class="col-md-5">
        <%= f.text_field :title, class: "form-control", placeholder: "Title" %>
      </div>
      <div class="col-md-5">
        <%= f.text_area :description, rows: 1, class: "form-control", placeholder: "Description" %>
      </div>
      <div class="col-md-2">
        <%= f.number_field :order, class: "form-control text-center", data: { "workflow-builder-target": "stepOrder" } %>
      </div>
    </div>

    <div class="mt-3">
      <div class="d-flex align-items-center mb-2">
        <span class="fw-bold"><%= t(".actions", default: "Actions") %></span>
        <button class="btn btn-sm btn-outline-success ms-auto" type="button" data-action="workflow-builder#addAction">
          + <%= t(".add_action", default: "Add Action") %>
        </button>
      </div>

      <div data-workflow-builder-target="actions">
        <%= f.fields_for :actions do |af| %>
          <%= render "workflows/action_fields", f: af %>
        <% end %>
      </div>
    </div>
  </div>
</div>
